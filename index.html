<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SUVs M√©xico 2026</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --bg-body: #f8f9fa;
      --bg-card: white;
      --text-primary: #333;
      --text-secondary: #7f8c8d;
      --accent: #3498db;
      --price: #e74c3c;
      --shadow: rgba(0,0,0,0.1);
    }

    .dark-mode {
      --bg-body: #1a1a1a;
      --bg-card: #252525;
      --text-primary: #f0f0f0;
      --text-secondary: #bbb;
      --accent: #3daee9;
      --price: #ff6b6b;
      --shadow: rgba(0,0,0,0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    body {
      background: var(--bg-body);
      color: var(--text-primary);
      transition: background 0.3s, color 0.3s;
    }
    .header {
      background: var(--accent);
      color: white;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 10px var(--shadow);
    }
    .header h1 {
      font-size: 1.5rem;
      margin: 0;
    }
    .theme-toggle {
      background: rgba(255,255,255,0.1);
      border: none;
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }
    .vehicle-selector {
      padding: 10px;
      background: var(--bg-card);
      border: 1px solid rgba(0,0,0,0.1);
      border-radius: 6px;
      margin: 20px 0;
      width: 100%;
      max-width: 600px;
      font-size: 1rem;
    }
    .main-content {
      padding: 70px 20px 60px;
      max-width: 1000px;
      margin: 0 auto;
    }
    .vehicle-card {
      background: var(--bg-card);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 15px var(--shadow);
      margin-bottom: 30px;
      color: var(--text-primary);
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .vehicle-card.loaded {
      opacity: 1;
      transform: translateY(0);
    }
    .image-container {
      position: relative;
      width: 100%;
      background: white;
      text-align: center;
      padding: 20px 0;
    }
    .vehicle-image {
      max-width: 100%;
      max-height: 400px;
      object-fit: contain;
      background: transparent;
      opacity: 0;
      transition: opacity 0.4s ease;
    }
    .vehicle-image.loaded {
      opacity: 1;
    }
    .nav-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.5);
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .nav-btn.left { left: 15px; }
    .nav-btn.right { right: 15px; }
    .nav-btn:hover {
      background: rgba(0,0,0,0.8);
    }
    .dots-container {
      margin-top: 15px;
      display: flex;
      justify-content: center;
      gap: 8px;
    }
    .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #ccc;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
    }
    .dot:hover {
      transform: scale(1.2);
    }
    .dot.active {
      background: var(--accent);
    }
    .color-selector {
      display: flex;
      gap: 8px;
      margin: 15px 0;
      flex-wrap: wrap;
      justify-content: center;
    }
    .color-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 2px solid #ddd;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .color-btn:hover {
      transform: scale(1.1);
    }
    .color-btn.active {
      border-color: #333;
      transform: scale(1.15);
    }
    .info {
      padding: 25px;
    }
    .title {
      font-size: 1.8rem;
      margin-bottom: 15px;
      color: var(--text-primary);
    }
    .specs {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 12px;
      margin: 15px 0;
    }
    .spec-item {
      background: var(--bg-body);
      padding: 12px;
      border-radius: 8px;
      text-align: center;
      border: 1px solid rgba(0,0,0,0.05);
    }
    .price {
      font-size: 1.4rem;
      color: var(--price);
      font-weight: bold;
      margin: 15px 0;
    }
    .chart-container {
      height: 250px;
      margin-top: 20px;
    }
    .footer {
      text-align: center;
      padding: 20px;
      color: var(--text-secondary);
      font-size: 0.95rem;
      border-top: 1px solid var(--shadow);
      margin-top: 20px;
    }
    .official-link {
      display: inline-block;
      margin-top: 10px;
      padding: 8px 15px;
      background: #27ae60;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      font-weight: bold;
      transition: background 0.3s;
    }
    .official-link:hover {
      background: #219653;
    }

    /* === LOADING ANIMATION === */
    .loading {
      display: none;
      text-align: center;
      padding: 40px;
      color: var(--text-secondary);
      font-size: 1.2rem;
    }
    .loading.show {
      display: block;
      animation: fadeIn 0.4s ease;
    }
    .spinner {
      border: 4px solid rgba(0,0,0,0.1);
      border-left-color: var(--accent);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
  </style>
</head>
<body>

  <div class="header">
    <h1>SUVs M√©xico 2026</h1>
    <button class="theme-toggle" id="themeToggle">üåô Modo Oscuro</button>
  </div>

  <div class="main-content">
    <div style="display: flex; gap: 15px; flex-wrap: wrap; margin: 20px 0; max-width: 800px;">
      <select class="vehicle-selector" id="marcaSelector" style="flex: 1; min-width: 200px;">
        <option value="">Selecciona una marca...</option>
      </select>
      <select class="vehicle-selector" id="modeloSelector" style="flex: 2; min-width: 250px;" disabled>
        <option value="">Selecciona un modelo...</option>
      </select>
    </div>

    <div id="mainContent">
      <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
        <h2>Selecciona una marca y un modelo</h2>
        <p>Explora especificaciones, im√°genes y enlace oficial.</p>
      </div>
    </div>
  </div>

  <div class="footer">
    Este codigo HTML es realizado por Erick para su Amoshi de su Vidoshi!!!
  </div>

  <script>
    // === CONFIGURACI√ìN DE TEMA ===
    const savedTheme = localStorage.getItem('theme') || 'light';
    if (savedTheme === 'dark') {
      document.body.classList.add('dark-mode');
      document.getElementById('themeToggle').textContent = '‚òÄÔ∏è Modo Claro';
    }

    // === DATOS DE VEH√çCULOS ===
    const vehiculos = [
      { id: 1, marca: "Toyota", modelo: "Corolla Cross", precio2026: 544000, paginaOficial: "https://www.toyota.mx/modelos/suv/corolla-cross/", motor: "2.0L", hp: 169, torque: "205 Nm", transmision: "CVT", traccion: "Delantera", consumo: "15.2 km/L", tipo: "Gasolina", tama√±o: "Compacto", tieneColores: true, coloresDisponibles: ['azul', 'blanco', 'gris', 'negro', 'plata', 'rojo'] },
      { id: 2, marca: "Toyota", modelo: "RAV4", precio2026: 577100, paginaOficial: "https://www.toyota.mx/modelos/suv/rav4/", motor: "2.5L", hp: 203, torque: "250 Nm", transmision: "Autom√°tica 8 velocidades", traccion: "AWD", consumo: "13.8 km/L", tipo: "Gasolina", tama√±o: "Mediano", tieneColores: true, coloresDisponibles: ['blanco', 'blanco_perlado', 'gris', 'plata', 'rojo'] },
      { id: 3, marca: "Honda", modelo: "HR-V", precio2026: 592900, paginaOficial: "https://www.honda.mx/autos/hr-v/2025", motor: "2.0L", hp: 155, torque: "136 lb-ft", transmision: "CVT", traccion: "Delantera", consumo: "16.5 km/L", tipo: "Gasolina", tama√±o: "Compacto", tieneColores: true, coloresDisponibles: ['blanco', 'gris'] },
      { id: 4, marca: "Honda", modelo: "CR-V", precio2026: 822900, paginaOficial: "https://www.honda.mx/autos/cr-v", motor: "1.5L Turbo", hp: 190, torque: "240 Nm", transmision: "CVT", traccion: "AWD", consumo: "15.8 km/L", tipo: "Gasolina", tama√±o: "Mediano", tieneColores: true, coloresDisponibles: ['azul', 'blanco', 'negro', 'plata'] },
      { id: 5, marca: "Nissan", modelo: "X-Trail", precio2026: 592900, paginaOficial: "https://www.nissan.com.mx/vehiculos/todos/x-trail.html", motor: "2.5L", hp: 181, torque: "240 Nm", transmision: "CVT", traccion: "AWD", consumo: "13.6 km/L (ciudad)", tipo: "Gasolina", tama√±o: "Mediano", tieneColores: false },
      { id: 6, marca: "Mazda", modelo: "CX-30", precio2026: 441900, paginaOficial: "https://www.mazda.mx/herramientas-de-compra/configura/mazda-cx-30", motor: "2.0L", hp: 166, torque: "213 Nm", transmision: "Autom√°tica 6 velocidades", traccion: "Delantera", consumo: "14.8 km/L", tipo: "Gasolina", tama√±o: "Compacto", tieneColores: false },
      { id: 7, marca: "Mazda", modelo: "CX-5", precio2026: 551900, paginaOficial: "https://www.mazda.mx/herramientas-de-compra/configura/mazda-cx-5", motor: "2.5L", hp: 194, torque: "258 Nm", transmision: "Autom√°tica 6 velocidades", traccion: "AWD", consumo: "14.2 km/L", tipo: "Gasolina", tama√±o: "Mediano", tieneColores: false },
      { id: 8, marca: "Hyundai", modelo: "Tucson", precio2026: 609300, paginaOficial: "https://www.hyundai.com.mx/configurador-modelos/#/121GSA", motor: "2.0L", hp: 147, torque: "186 Nm", transmision: "Autom√°tica 6 velocidades", traccion: "Delantera", consumo: "14.5 km/L", tipo: "Gasolina", tama√±o: "Mediano", tieneColores: false },
      { id: 9, marca: "Volkswagen", modelo: "Tiguan", precio2026: 599990, paginaOficial: "https://www.vw.com.mx/es/autos-suvs/tiguan.html", motor: "1.4L TSI", hp: 150, torque: "250 Nm", transmision: "DSG 7", traccion: "Delantera", consumo: "15.3 km/L", tipo: "Gasolina", tama√±o: "Mediano", tieneColores: true, coloresDisponibles: ['gris'] },
      { id: 10, marca: "Peugeot", modelo: "2008", precio2026: 469900, paginaOficial: "https://www.peugeot.com.mx/gama/nueva-peugeot2008.html", motor: "1.2L Turbo", hp: 130, torque: "230 Nm", transmision: "Autom√°tica 6 velocidades", traccion: "Delantera", consumo: "17.3 km/L", tipo: "Gasolina", tama√±o: "Compacto", tieneColores: true, coloresDisponibles: ['gris', 'plateado', 'rojo'] },
      { id: 11, marca: "Peugeot", modelo: "3008", precio2026: 577400, paginaOficial: "https://www.peugeot.com.mx/gama/suv-peugeot-3008.html", motor: "1.6L Turbo", hp: 165, torque: "240 Nm", transmision: "Autom√°tica 6 velocidades", traccion: "AWD", consumo: "14.0 km/L", tipo: "Gasolina", tama√±o: "Mediano", tieneColores: true, coloresDisponibles: ['azul', 'gris', 'negro'] },
      { id: 12, marca: "Dodge", modelo: "Journey", precio2026: 406900, paginaOficial: "https://www.dodge.com/mx/journey.html", motor: "2.4L", hp: 173, torque: "230 Nm", transmision: "Autom√°tica 6 velocidades", traccion: "Delantera", consumo: "13.5 km/L", tipo: "Gasolina", tama√±o: "Mediano", tieneColores: false },
      { id: 13, marca: "Chevrolet", modelo: "Tracker", precio2026: 356900, paginaOficial: "https://www.chevrolet.com.mx/suvs/tracker-mejor-suv-2025", motor: "1.0L Turbo", hp: 113, torque: "165 Nm", transmision: "Autom√°tica 6 velocidades", traccion: "Delantera", consumo: "16.8 km/L", tipo: "Gasolina", tama√±o: "Compacto", tieneColores: true, coloresDisponibles: ['blanco', 'gris', 'negro', 'rojo'] },
      { id: 14, marca: "Chevrolet", modelo: "Trax", precio2026: 464900, paginaOficial: "https://www.chevrolet.com.mx/suvs/trax-suv-deportiva", motor: "1.2L Turbo", hp: 137, torque: "240 Nm", transmision: "Autom√°tica 6 velocidades", traccion: "Delantera", consumo: "15.5 km/L", tipo: "Gasolina", tama√±o: "Compacto", tieneColores: true, coloresDisponibles: ['amarillo', 'azul', 'blanco', 'gris', 'gris_obscuro', 'negro', 'rojo'] },
      { id: 15, marca: "Ford", modelo: "Territory", precio2026: 599000, paginaOficial: "https://www.ford.mx/suv/territory/2025/", motor: "1.8L Turbo", hp: 187, torque: "236 lb-ft", transmision: "Autom√°tica 7 velocidades", traccion: "AWD", consumo: "13.2 km/L", tipo: "Gasolina", tama√±o: "Mediano", tieneColores: true, coloresDisponibles: ['blanco', 'negro', 'rojo'] }
    ];

    let vehiculoActual = null;
    let colorActual = 'azul';
    let indiceImagen = 0;
    let totalImagenes = 1;

    // === FUNCIONES AUXILIARES ===
    function getBaseFolderName(veh) {
      const marca = veh.marca.toLowerCase();
      const modelo = veh.modelo.toLowerCase().replace(/\s+/g, '_');
      return `imagenes/${marca}/${marca}_${modelo}`;
    }

    const EXTENSIONES = ['.avif', '.webp', '.jpg', '.png', '.jpeg'];

    function probarImagen(rutaBase, num, callback) {
      let index = 0;
      function intentar() {
        if (index >= EXTENSIONES.length) {
          callback(false);
          return;
        }
        const ext = EXTENSIONES[index];
        const img = new Image();
        img.onload = () => callback(true);
        img.onerror = () => {
          index++;
          intentar();
        };
        img.src = `${rutaBase}${num}${ext}?v=${Date.now()}`;
      }
      intentar();
    }

    function detectarTotalImagenes(folderPath, callback) {
      let count = 0;
      const maxImages = 20;

      function verificarSiguiente(num) {
        if (num > maxImages) {
          callback(count);
          return;
        }
        probarImagen(folderPath, num, (existe) => {
          if (existe) {
            count = num;
            verificarSiguiente(num + 1);
          } else {
            callback(count);
          }
        });
      }

      verificarSiguiente(1);
    }

    function cargarImagen(num, callback) {
      const folderBase = getBaseFolderName(vehiculoActual);
      let folderPath = folderBase + '/';
      if (vehiculoActual.tieneColores) {
        folderPath = `${folderBase}/${colorActual}/`;
      }

      let index = 0;
      function probar() {
        if (index >= EXTENSIONES.length) {
          callback(null);
          return;
        }
        const ext = EXTENSIONES[index];
        const ruta = `${folderPath}${num}${ext}?v=${Date.now()}`;
        const img = new Image();
        img.onload = () => callback(ruta);
        img.onerror = () => {
          index++;
          probar();
        };
        img.src = ruta;
      }
      probar();
    }

    function getColoresDelVehiculo(veh) {
      if (!veh.tieneColores) return [];
      const coloresHex = {
        'azul': '#3498db',
        'blanco': '#ffffff',
        'gris': '#95a5a6',
        'negro': '#2c3e50',
        'plata': '#bdc3c7',
        'rojo': '#e74c3c',
        'blanco_perlado': '#f2f2f2',
        'plateado': '#bdc3c7',
        'amarillo': '#f1c40f',
        'gris_obscuro': '#7f8c8d'
      };
      return veh.coloresDisponibles.map(color => ({
        nombre: color,
        hex: coloresHex[color] || '#ccc'
      }));
    }

    // === CARGAR MARCAS Y MODELOS ===
    function cargarMarcas() {
      const marcas = [...new Set(vehiculos.map(v => v.marca))].sort();
      const selector = document.getElementById("marcaSelector");
      selector.innerHTML = '<option value="">Selecciona una marca...</option>';
      marcas.forEach(marca => {
        const opt = document.createElement("option");
        opt.value = marca;
        opt.textContent = marca;
        selector.appendChild(opt);
      });
    }

    function cargarModelosPorMarca(marca) {
      const modeloSelector = document.getElementById("modeloSelector");
      if (!marca) {
        modeloSelector.innerHTML = '<option value="">Selecciona un modelo...</option>';
        modeloSelector.disabled = true;
        return;
      }

      const modelos = vehiculos
        .filter(v => v.marca === marca)
        .map(v => ({ id: v.id, modelo: v.modelo }));

      modeloSelector.innerHTML = '<option value="">Selecciona un modelo...</option>';
      modelos.forEach(m => {
        const opt = document.createElement("option");
        opt.value = m.id;
        opt.textContent = m.modelo;
        modeloSelector.appendChild(opt);
      });
      modeloSelector.disabled = false;
    }

    // === MOSTRAR VEH√çCULO ===
    function mostrarVehiculo(id) {
      document.getElementById("mainContent").innerHTML = `
        <div class="loading show" id="loadingIndicator">
          <div class="spinner"></div>
          <p>Espere un momento...<br>Estamos cargando las im√°genes y especificaciones.</p>
        </div>
      `;

      const veh = vehiculos.find(v => v.id == id);
      if (!veh) return;

      vehiculoActual = veh;
      if (veh.tieneColores) {
        const colores = getColoresDelVehiculo(veh);
        colorActual = colores.length > 0 ? colores[0].nombre : 'azul';
      }
      indiceImagen = 0;
      cargarTotalYRenderizar();
    }

    function cargarTotalYRenderizar() {
      const folderBase = getBaseFolderName(vehiculoActual);
      let folderPath = folderBase + '/';
      if (vehiculoActual.tieneColores) {
        folderPath = `${folderBase}/${colorActual}/`;
      }

      detectarTotalImagenes(folderPath, (total) => {
        totalImagenes = total || 1;
        cargarYRenderizarImagen();
      });
    }

    function cargarYRenderizarImagen() {
      cargarImagen(indiceImagen + 1, (ruta) => {
        renderizarContenido(ruta || 'https://via.placeholder.com/600x400?text=Imagen+no+disponible');
      });
    }

    function renderizarContenido(rutaImagen) {
      const loading = document.getElementById("loadingIndicator");
      if (loading) loading.classList.remove("show");

      const veh = vehiculoActual;
      const precioFormateado = new Intl.NumberFormat('es-MX', {
        style: 'currency',
        currency: 'MXN',
        minimumFractionDigits: 0
      }).format(veh.precio2026);

      let colorSelectorHTML = '';
      if (veh.tieneColores) {
        const colores = getColoresDelVehiculo(veh);
        colorSelectorHTML = '<div class="color-selector">';
        colores.forEach(c => {
          const isActive = c.nombre === colorActual ? 'active' : '';
          colorSelectorHTML += `
            <div class="color-btn ${isActive}" 
                 style="background-color: ${c.hex};"
                 onclick="cambiarColor('${c.nombre}')"
                 title="${c.nombre.charAt(0).toUpperCase() + c.nombre.slice(1)}">
            </div>`;
        });
        colorSelectorHTML += '</div>';
      }

      let dotsHTML = '';
      if (totalImagenes > 1) {
        dotsHTML = '<div class="dots-container">';
        for (let i = 0; i < totalImagenes; i++) {
          const active = i === indiceImagen ? 'active' : '';
          dotsHTML += `<div class="dot ${active}" onclick="irAImagen(${i})"></div>`;
        }
        dotsHTML += '</div>';
      }

      let imagenHTML = '';
      if (totalImagenes > 1) {
        imagenHTML = `
          <div class="image-container">
            <button class="nav-btn left" onclick="cambiarImagen(-1)">‚Äπ</button>
            <img src="${rutaImagen}" alt="${veh.marca} ${veh.modelo}" class="vehicle-image" onload="this.classList.add('loaded')">
            <button class="nav-btn right" onclick="cambiarImagen(1)">‚Ä∫</button>
            ${dotsHTML}
          </div>
        `;
      } else {
        imagenHTML = `
          <div class="image-container">
            <img src="${rutaImagen}" alt="${veh.marca} ${veh.modelo}" class="vehicle-image" onload="this.classList.add('loaded')">
          </div>
        `;
      }

      const html = `
        <div class="vehicle-card loaded">
          ${colorSelectorHTML}
          ${imagenHTML}
          <div class="info">
            <h2 class="title">${veh.marca} ${veh.modelo}</h2>
            <div class="specs">
              <div class="spec-item"><strong>Tama√±o</strong><br>${veh.tama√±o}</div>
              <div class="spec-item"><strong>Motor</strong><br>${veh.motor}</div>
              <div class="spec-item"><strong>Potencia</strong><br>${veh.hp} HP</div>
              <div class="spec-item"><strong>Torque</strong><br>${veh.torque}</div>
              <div class="spec-item"><strong>Transmisi√≥n</strong><br>${veh.transmision}</div>
              <div class="spec-item"><strong>Tracci√≥n</strong><br>${veh.traccion}</div>
              <div class="spec-item"><strong>Consumo</strong><br>${veh.consumo}</div>
              <div class="spec-item"><strong>Tipo</strong><br>${veh.tipo}</div>
            </div>
            <div class="price">${precioFormateado} MXN</div>
            <a href="${veh.paginaOficial}" target="_blank" class="official-link">Visitar P√°gina Oficial</a>
          </div>
        </div>
      `;

      document.getElementById("mainContent").innerHTML = html;
    }

    // === FUNCIONES GLOBALES ===
    window.cambiarColor = function(color) {
      if (vehiculoActual && vehiculoActual.tieneColores) {
        colorActual = color;
        indiceImagen = 0;
        cargarTotalYRenderizar();
      }
    };

    window.cambiarImagen = function(direccion) {
      if (!vehiculoActual || totalImagenes <= 1) return;
      indiceImagen = (indiceImagen + direccion + totalImagenes) % totalImagenes;
      cargarYRenderizarImagen();
    };

    window.irAImagen = function(index) {
      if (!vehiculoActual || totalImagenes <= 1) return;
      indiceImagen = index;
      cargarYRenderizarImagen();
    };

    // === EVENTOS ===
    document.getElementById("themeToggle")?.addEventListener("click", () => {
      document.body.classList.toggle("dark-mode");
      const isDark = document.body.classList.contains("dark-mode");
      localStorage.setItem("theme", isDark ? "dark" : "light");
      document.getElementById("themeToggle").textContent = 
        isDark ? "‚òÄÔ∏è Modo Claro" : "üåô Modo Oscuro";
    });

    document.getElementById("marcaSelector")?.addEventListener("change", (e) => {
      const marca = e.target.value;
      cargarModelosPorMarca(marca);
      document.getElementById("mainContent").innerHTML = `
        <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
          <h2>Selecciona un modelo</h2>
        </div>
      `;
    });

    document.getElementById("modeloSelector")?.addEventListener("change", (e) => {
      const id = e.target.value;
      if (id) {
        mostrarVehiculo(id);
      }
    });

    // === INICIALIZAR ===
    cargarMarcas();
  </script>
</body>
</html>